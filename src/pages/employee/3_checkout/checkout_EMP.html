<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/smart-inventory/src/pages/employee/3_checkout/checkout_EMP.css">
  <!-- local CSS in same folder -->
</head>
<body>
  <div class="checkout-container">

    <header class="checkout-header">
      <h2>Checkout</h2>
      <div class="search-area">
        <input id="productGridSearch" placeholder="Search products..." aria-label="Search products" />
        <button title="Clear" onclick="document.getElementById('productGridSearch').value=''; document.getElementById('productGridSearch').dispatchEvent(new Event('input'));">✕</button>
      </div>
    </header>

    <main class="checkout-main">
      <!-- LEFT: products + cart -->
      <section class="left-col">

        <!-- Product section (controls + scrollable grid) -->
        <div class="product-section">
          <div class="product-section-header">
            <div class="product-top-row">
              <div class="product-count"><span id="productCount">0</span> products</div>
              <div class="product-controls-row">
                <select id="productCategoryFilter" aria-label="Filter category">
                  <option value="all">All categories</option>
                </select>

                <!-- single quick-add control -->
                <div class="quick-add">
                  <input type="text" id="productSearch" placeholder="Product name or ID..." />
                  <input type="number" id="productQty" placeholder="Qty" min="1" value="1" />
                  <button class="submit-button" onclick="addToCart()">Add to Cart</button>
                </div>
              </div>
            </div>
          </div>

          <!-- fixed-height, scrollable product list -->
          <div class="product-list-container">
            <div id="productGrid" class="product-grid" aria-live="polite"></div>
          </div>
        </div>

        <!-- Cart area -->
        <div class="cart-box">
          <h3 class="cart-title">Cart</h3>
          <table class="data-table" id="cartTable">
            <thead>
              <tr>
                <th>Product ID</th>
                <th>Name</th>
                <th>Quantity</th>
                <th>Price</th>
                <th>Total</th>
                <th></th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <!-- RIGHT: Order summary -->
      <aside class="right-col">
        <div class="summary-card">
          <h4>Order Summary</h4>

          <div class="summary-row">
            <span>Subtotal:</span>
            <span id="orderSubtotal">₱0.00</span>
          </div>

          <div class="summary-row">
            <span>Tax (12%):</span>
            <span id="orderTax">₱0.00</span>
          </div>

          <div class="summary-row total">
            <strong>Total:</strong>
            <strong id="orderTotal">₱0.00</strong>
          </div>

          <div class="summary-row small muted">
            <span>Transaction ID:</span>
            <span id="transactionId">—</span>
          </div>

          <button class="submit-button process" id="processBtn" onclick="processCheckout()">Process Checkout</button>
        </div>
      </aside>
    </main>

  </div>

  <!-- External JS file (no inline scripts in fragment) -->
  <script src="checkout_EMP.js"></script>
</body>
</html>

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    .panel { background:#fff; padding:20px; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.08); }
    .controls { margin-bottom:14px; display:flex; gap:8px; align-items:center; }
    .data-table { width:100%; border-collapse:collapse; }
    .data-table thead th { background:#f2ead8; padding:14px; text-align:left; }
    .data-table td { padding:14px; border-bottom:1px solid #eee; }
    .view-btn, .remove-btn { padding:4px 8px; }

    .modal-wrap {
      display:none;
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.4);
      justify-content:center;
      align-items:center;
      z-index:9999;
    }
    .modal-inner {
      width:88%;
      max-width:900px;
      background:#fff;
      border-radius:8px;
      padding:18px;
    }
    .modal-head { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
    .modal-table { width:100%; border-collapse:collapse; margin-top:8px; }
    .modal-table th, .modal-table td { padding:10px; border-bottom:1px solid #eee; }
  </style>
</head>

<body>
  <div id="transactionsPage" style="padding:28px;">
    <div class="panel">

      <h2 style="color:#e96f00; margin-top:0;">Transactions</h2>

      <div class="controls">
        <input id="dateFilter" type="date" style="padding:6px 8px;" />
        <select id="employeeFilter" style="padding:6px 8px;">
          <option value="">All Employees</option>
        </select>
        <button onclick="applyFilters()" style="background:#4CAF50;color:#fff;border:0;padding:7px 12px;border-radius:4px;">Apply Filter</button>
        <button onclick="clearFilters()" style="background:#f44336;color:#fff;border:0;padding:7px 12px;border-radius:4px;">Reset</button>
      </div>

      <table class="data-table">
        <thead>
          <tr>
            <th>Transaction ID</th>
            <th>Date</th>
            <th>Employee</th>
            <th style="text-align:center;">Items</th>
            <th style="text-align:right;">Total</th>
            <th style="text-align:center;">Actions</th>
          </tr>
        </thead>
        <tbody id="txBody">
          <!-- JS will populate rows here -->
        </tbody>
      </table>

    </div>
  </div>

  <!-- MODAL -->
  <div id="transactionModal" class="modal-wrap">
    <div class="modal-inner">

      <div class="modal-head">
        <div>
          <h3>Transaction Details</h3>
          <div style="font-size:13px;color:#666;">
            <span id="modalTransactionId">—</span>
            <span id="modalTransactionDateTime" style="margin-left:12px;color:#999;font-size:12px;"></span>
          </div>
        </div>
        <button onclick="closeTransactionModal()" style="padding:6px 10px;">Close</button>
      </div>

      <div><strong>Employee:</strong> <span id="modalEmployee">—</span></div>

      <table class="modal-table">
        <thead>
          <tr>
            <th style="text-align:left;">Product</th>
            <th style="text-align:center;">Qty</th>
            <th style="text-align:right;">Price</th>
            <th style="text-align:right;">Subtotal</th>
          </tr>
        </thead>
        <tbody id="modalItemsList"></tbody>
        <tfoot>
          <tr>
            <td colspan="3" style="text-align:right;font-weight:600;">Subtotal:</td>
            <td id="modalSubtotal" style="text-align:right;font-weight:600;">₱0.00</td>
          </tr>
          <tr>
            <td colspan="3" style="text-align:right;font-weight:600;">Tax (12%):</td>
            <td id="modalTax" style="text-align:right;font-weight:600;">₱0.00</td>
          </tr>
          <tr>
            <td colspan="3" style="text-align:right;font-weight:600;">Total:</td>
            <td id="modalTotal" style="text-align:right;font-weight:600;">₱0.00</td>
          </tr>
        </tfoot>
      </table>

    </div>
  </div>

  <!-- ONLY ONE SCRIPT TAG — FIXED -->
  <script src="/smart-inventory/src/pages/admin/5_transactions/transactions_AD.js"></script>

</body>
</html>
